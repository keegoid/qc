" vim config file

" plugins {{{
   execute pathogen#infect()
   " call pathogen#infect()                      " use pathogen
   " call pathogen#runtime_append_all_bundles()  " use pathogen
" }}}

" misc {{{
   " spell check settings
   set spell spelllang=en_us
   set spellfile=~/Dropbox/Config/vim.utf-8.add
   " git commit word wrapping distance
   au filetype gitcommit setlocal tw=72
   set autowrite   " automatically save before commands like :next and :make
   set hidden      " hide buffers when they are abandoned
   set mouse=a     " dnable mouse usage (all modes)
   set modelines=1 " reserve last line for settings applied to file
" }}}

" colors {{{
   colorscheme badwolf     " awesome colorscheme
" }}}

" spaces & tabs {{{
   " load indentation rules and plugins according to the detected filetype
   filetype plugin indent on
   set tabstop=4           " number of visual spaces per TAB
   set softtabstop=4       " number of spaces in tab when editing
   set expandtab           " tabs are spaces
" }}}

" UI config {{{
   set number              " show line numbers
   set showcmd             " Show (partial) command in status line.
   set cursorline          " highlight current line
   set wildmenu            " visual autocomplete for command menu
   set lazyredraw          " redraw only when we need to.
   set showmatch           " Show matching brackets.
" }}}

" searching {{{
   set ignorecase          " Do case insensitive matching
   set smartcase           " Do smart case matching
   set incsearch           " search as characters are entered
   set hlsearch            " highlight matches
   " turn off search highlight
   nnoremap <leader><space> :nohlsearch<CR>
" }}}

" folding {{{
   set foldenable          " enable folding
   set foldlevelstart=10   " open most folds by default
   set foldnestmax=10      " 10 nested fold max
   set foldmethod=indent   " fold based on indent level
" }}}

" leader shortcuts {{{
   let mapleader=","       " leader is comma
   " toggle gundo
   nnoremap <leader>u :GundoToggle<CR>
   " open ag.vim
   nnoremap <leader>a :Ag
" }}}

" CtrlP {{{
   let g:ctrlp_match_window = 'bottom,order:ttb'
   let g:ctrlp_switch_buffer = 0
   let g:ctrlp_working_path_mode = 0
   let g:ctrlp_user_command = 'ag %s -l --nocolor -g ""'
" }}}

" autogroups {{{
   augroup configgroup
       autocmd!
       autocmd VimEnter * highlight clear SignColumn
       autocmd BufWritePre *.php,*.py,*.js,*.txt,*.hs,*.java,*.md
                   \:call <SID>StripTrailingWhitespaces()
       autocmd FileType java setlocal noexpandtab
       autocmd FileType java setlocal list
       autocmd FileType java setlocal listchars=tab:+\ ,eol:-
       autocmd FileType java setlocal formatprg=par\ -w80\ -T4
       autocmd FileType php setlocal expandtab
       autocmd FileType php setlocal list
       autocmd FileType php setlocal listchars=tab:+\ ,eol:-
       autocmd FileType php setlocal formatprg=par\ -w80\ -T4
       autocmd FileType ruby setlocal tabstop=3
       autocmd FileType ruby setlocal shiftwidth=3
       autocmd FileType ruby setlocal softtabstop=3
       autocmd FileType ruby setlocal commentstring=#\ %s
       autocmd FileType python setlocal commentstring=#\ %s
       autocmd BufEnter *.cls setlocal filetype=java
       autocmd BufEnter *.zsh-theme setlocal filetype=zsh
       autocmd BufEnter Makefile setlocal noexpandtab
       autocmd BufEnter *.sh setlocal tabstop=3
       autocmd BufEnter *.sh setlocal shiftwidth=3
       autocmd BufEnter *.sh setlocal softtabstop=3
   augroup END
" }}}

" modeline must be specified at last line of this file
" vim:foldmethod=marker:foldlevel=0
